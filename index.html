<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<title>Amigo Secreto - Sorteio de Natal Fam√≠lia Gomes</title>
<style>
/* ---------- RESET ---------- */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
    background: linear-gradient(#1a1a1a, #07101a);
    color: #fff;
    position: relative;
}

/* ---------- HEADER ---------- */
header {
    text-align: center;
    padding: 80px 20px 60px 20px;
    position: relative;
}

header h1 {
    font-size: 60px;
    color: #ffdd57;
    margin-bottom: 10px;
    text-shadow: 2px 2px 10px #000;
}

header h2 {
    font-size: 28px;
    color: #fff;
    text-shadow: 1px 1px 5px #000;
}

/* ---------- INPUT & BOT√ÉO ---------- */
#inputSection {
    text-align: center;
    margin-top: 40px;
}

input {
    padding: 15px 20px;
    width: 300px;
    max-width: 80%;
    font-size: 18px;
    border-radius: 30px;
    border: none;
    margin-bottom: 20px;
    outline: none;
    background: rgba(255,255,255,0.2);
    color: #fff;
    text-align: center;
    transition: background 0.3s ease;
}

input::placeholder { color: #fffb; }

input:focus { background: rgba(255,255,255,0.35); }

button {
    padding: 15px 30px;
    font-size: 18px;
    border-radius: 30px;
    border: none;
    cursor: pointer;
    background: linear-gradient(45deg, #e74c3c, #ff6347);
    color: #fff;
    font-weight: bold;
    transition: transform 0.2s ease, box-shadow 0.3s ease;
}

button:hover {
    transform: scale(1.1);
    box-shadow: 0 0 25px #ff6347;
}

/* ---------- RESULTADO ---------- */
#resultado {
    margin-top: 50px;
    font-size: 28px;
    font-weight: bold;
    color: #27ae60;
    min-height: 60px;
    text-align: center;
}

#resultado span {
    display: inline-block;
    animation: bounce 0.6s ease infinite alternate;
}

@keyframes bounce {
    0% { transform: translateY(0); }
    100% { transform: translateY(-15px); }
}

/* ---------- NEVE ---------- */
.snowflake {
    position: fixed;
    top: -10px;
    z-index: 9999;
    color: #fff;
    font-size: 1em;
    user-select: none;
    pointer-events: none;
    animation-name: fall;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
}

@keyframes fall { 0% { transform: translateY(0) rotate(0deg); } 100% { transform: translateY(100vh) rotate(360deg); } }

/* ---------- CONFETES ---------- */
.confetti {
    position: fixed;
    width: 10px;
    height: 10px;
    background: #ffdd57;
    top: -10px;
    z-index: 9999;
    opacity: 0.8;
    border-radius: 50%;
    animation: confettiFall linear infinite;
}

@keyframes confettiFall { 0% { transform: translateY(0) rotate(0deg); } 100% { transform: translateY(100vh) rotate(360deg); } }

/* ---------- LUZES ---------- */
.light {
    position: absolute;
    width: 15px;
    height: 15px;
    border-radius: 50%;
    background: yellow;
    box-shadow: 0 0 20px yellow;
    animation-name: blink;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
}

@keyframes blink {
    0%, 50% { opacity: 1; transform: scale(1); }
    100% { opacity: 0.2; transform: scale(1.3); }
}

/* ---------- FOOTER ---------- */
footer {
    text-align: center;
    padding: 20px;
    font-size: 16px;
    color: #fff;
    margin-top: 80px;
}
footer a { color: #ffdd57; text-decoration: none; }

/* ---------- RESPONSIVO ---------- */
@media(max-width:600px){
    header h1 { font-size: 48px; }
    header h2 { font-size: 20px; }
    input { font-size: 16px; padding: 12px 15px; }
    button { font-size: 16px; padding: 12px 20px; }
    #resultado { font-size: 22px; }
}
</style>
</head>
<body>

<header>
    <h1>üéÑ Amigo Secreto üéÑ</h1>
    <h2>Sorteio de Natal - Fam√≠lia Gomes</h2>
</header>

<div id="inputSection">
    <input id="nome" placeholder="O teu nome">
    <br>
    <button onclick="mostrarResultado()">Sortear</button>
    <div id="resultado"></div>
</div>

<footer>
    &copy; 2025 Fam√≠lia Gomes - Com ‚ù§Ô∏è e esp√≠rito natalino
</footer>

<script>
// ---------- PARTICIPANTES E RESTRI√á√ïES ----------
const participantes = ["Ana","Bruno","Carla","Diogo","Eduardo"];
const restricoes = { "Ana":["Bruno"], "Bruno":["Ana","Carla"], "Carla":[], "Diogo":["Eduardo"], "Eduardo":["Diogo"] };

function gerarSorteio() {
    let tentativas = 0;
    const maxTentativas = 3000;
    while(tentativas < maxTentativas){
        tentativas++;
        const restantes = [...participantes];
        const resultado = {};
        for(let pessoa of participantes){
            let proibidos = new Set([pessoa, ...(restricoes[pessoa]||[])]);
            let possiveis = restantes.filter(r=>!proibidos.has(r));
            if(possiveis.length===0) break;
            let escolhido = possiveis[Math.floor(Math.random()*possiveis.length)];
            resultado[pessoa] = escolhido;
            restantes.splice(restantes.indexOf(escolhido),1);
        }
        if(Object.keys(resultado).length===participantes.length) return resultado;
    }
    return null;
}

function mostrarResultado(){
    const nome = document.getElementById("nome").value.trim();
    const box = document.getElementById("resultado");
    if(!participantes.includes(nome)){
        box.innerHTML = "‚ùå Esse nome n√£o existe na lista!";
        return;
    }
    const sorteio = gerarSorteio();
    if(!sorteio){
        box.innerHTML = "‚ö†Ô∏è N√£o foi poss√≠vel gerar um sorteio v√°lido.";
        return;
    }
    box.innerHTML = `üëâ O teu amigo secreto √©: <br><br> üéâ <span>${sorteio[nome]}</span>`;
    criarConfetes();
}

// ---------- NEVE ----------
for(let i=0;i<70;i++){
    let flake=document.createElement('div');
    flake.className='snowflake';
    flake.style.left=Math.random()*window.innerWidth+'px';
    flake.style.fontSize=(Math.random()*15+10)+'px';
    flake.style.animationDuration=(Math.random()*5+5)+'s';
    flake.style.opacity=Math.random();
    flake.innerHTML='‚ùÑ';
    document.body.appendChild(flake);
}

// ---------- CONFETES ----------
function criarConfetes(){
    for(let i=0;i<50;i++){
        let c=document.createElement('div');
        c.className='confetti';
        c.style.left=Math.random()*window.innerWidth+'px';
        c.style.background=`hsl(${Math.random()*360},70%,60%)`;
        c.style.width=c.style.height=Math.random()*10+5+'px';
        c.style.animationDuration=(Math.random()*3+3)+'s';
        document.body.appendChild(c);
        setTimeout(()=>c.remove(),4000);
    }
}

// ---------- LUZES ----------
const header = document.querySelector('header');
for(let i=0;i<30;i++){
    let l=document.createElement('div');
    l.className='light';
    l.style.left=(i*50)+'px';
    l.style.top='0px';
    l.style.animationDuration=(Math.random()*1+1)+'s';
    header.appendChild(l);
}
</script>

</body>
</html>
